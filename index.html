<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å®¶é›»è£œåŠ©èˆ‡è´ˆå“æŸ¥è©¢ç³»çµ±</title>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <style>
        :root { --primary: #007AFF; --tax-color: #28a745; --old-color: #fd7e14; --price-color: #ff3b30; --bg: #f5f5f7; }
        body { font-family: -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: var(--bg); margin: 0; padding: 15px; }
        .selector-container { display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px; position: sticky; top: 0; z-index: 10; background: var(--bg); padding-bottom: 10px; }
        select { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #ccc; font-size: 1rem; background: white; outline: none; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .gift-card { background: white; border-radius: 16px; padding: 16px; margin-bottom: 15px; display: flex; box-shadow: 0 4px 12px rgba(0,0,0,0.08); animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .gift-img { width: 85px; height: 85px; object-fit: cover; border-radius: 12px; margin-right: 15px; border: 1px solid #f0f0f0; flex-shrink: 0; }
        .gift-info { flex-grow: 1; min-width: 0; }
        .gift-info h4 { margin: 0 0 6px 0; color: #1d1d1f; font-size: 1.05rem; line-height: 1.4; }
        .gift-info p { margin: 0; font-size: 0.88rem; color: #666; line-height: 1.6; word-wrap: break-word; }
        .price-red { color: var(--price-color); font-weight: 600; }
        .action-btns { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
        .action-btn { padding: 8px 12px; border-radius: 8px; font-size: 0.8rem; border: none; color: white; cursor: pointer; font-weight: 500; display: flex; align-items: center; justify-content: center; }
        .btn-barcode { background: #555; }
        .btn-activity { background: var(--primary); }
        .btn-tax { background: var(--tax-color); }
        .btn-old { background: var(--old-color); }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 1000; flex-direction: column; align-items: center; justify-content: center; padding: 20px; box-sizing: border-box; }
        .close-btn { position: absolute; top: 25px; right: 25px; font-size: 2.2rem; border: none; background: none; color: #333; line-height: 1; }
        .barcode-wrapper { transform: rotate(90deg); width: 85vh; text-align: center; }
        #fullBarcode { width: 100%; height: auto; }
        #qrCodeCanvas { padding: 15px; background: white; border: 2px solid #f0f0f0; border-radius: 12px; }
        .qr-title { margin-bottom: 20px; font-size: 1.2rem; font-weight: bold; color: #333; text-align: center; }
        .hint-text { margin-top: 20px; color: #888; text-align: center; font-size: 0.95rem; line-height: 1.4; }
    </style>
</head>
<body>

    <div class="selector-container">
        <select id="categorySelect" onchange="updateBrands()">
            <option value="">-- 1. é¸æ“‡åˆ†é¡ --</option>
        </select>
        <select id="brandSelect" onchange="showGifts()" disabled>
            <option value="">-- 2. é¸æ“‡å“ç‰Œ/é …ç›® --</option>
        </select>
    </div>

    <div id="giftContainer"></div>

    <div id="imgOverlay" class="overlay" onclick="this.style.display='none'">
        <button class="close-btn">&times;</button>
        <img id="zoomedImg" style="max-width:95%; max-height:80%; border-radius:12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
        <p style="margin-top:20px; color:#666;">é»æ“Šè¢å¹•é—œé–‰</p>
    </div>

    <div id="barcodeOverlay" class="overlay">
        <button class="close-btn" onclick="closeOverlay('barcodeOverlay')">&times;</button>
        <div class="barcode-wrapper">
            <svg id="fullBarcode"></svg>
        </div>
        <p class="hint-text">è«‹å‘æ”¶éŠ€å“¡å‡ºç¤ºæ¢ç¢¼é€²è¡Œçµå¸³</p>
    </div>

    <div id="qrCodeOverlay" class="overlay">
        <button class="close-btn" onclick="closeOverlay('qrCodeOverlay')">&times;</button>
        <div id="qrTitle" class="qr-title"></div>
        <div id="qrCodeCanvas"></div>
        <p id="qrHint" class="hint-text"></p>
    </div>

    <script>
        const rawData = [
         // --- å¸¸ç”¨æ¢ç¢¼ ---
            { 
                cat: "å¸¸ç”¨æ¢ç¢¼", brand: "å†·æ°£é‹è²»", 
                name: "å…åŸºæœ¬å®‰è£è²»\n$100", 
                desc: "ä¸€å°ä¸€åˆ†é›¢å¼å†·æ°£:  \n 3.6KWä»¥ä¸‹(å«)$3100å…ƒ  3.7KW - 4.1KW $3500å…ƒ \n  4.2KW - 5.2KW $3900å…ƒ   \n 5.3KW - 6.5KW $4500å…ƒ\n6.6KW - 7.2KW $5000å…ƒ  \n   7.3KW - 9.1KW $6000å…ƒ  \n  9.2KW - 11.6KW $8000å…ƒ  \n 11.7KWä»¥ä¸Š$9200å…ƒ  \n  ä¸€å°å¤šåˆ†é›¢å¼å†·æ°£:   \n  è¶…å‡º10ç±³ä»¥å¤–(ä»¥å®¤å…§æ©ŸKWè¨ˆç®—)   \n å®¶æ¨‚ç¦è£œåŠ©10ç±³(æ—¥ç«‹å†·æ°£é™¤å¤–)$5000å…ƒ   \n  çª—å‹/ç›´ç«‹å¼å†·æ°£/ç§»å‹•å¼:  \n 3.2KW(å«)ä»¥ä¸‹$800å…ƒ     3.21KW - 5.3KW $1000å…ƒ   \n  è¶…é5.3KW $1200å…ƒ  \n  åªé€ä¸è£æ”¶è²»: \n çª—å‹/ç›´ç«‹å¼ $200/å° \n  ä¸€å°ä¸€åˆ†é›¢ $300/çµ„ \nä¸€å°äºŒåˆ†é›¢å¼ $400/çµ„   \n éš¨è²¨å…¶ä»–å•†å“100/ä»¶", 
                barcode: "2449405007012", // è«‹æ›æˆæ­£ç¢ºæ¢ç¢¼
                img: "", qrUrl: "", taxUrl: "", oldUrl: "" 
            },
            { 
                cat: "å¸¸ç”¨æ¢ç¢¼", brand: "å†°ç®±é‹è²»", 
                name: "49-400006-001\nå…è²»é‹è²»$10", 
                desc: "100å…¬å‡ä»¥ä¸‹$200\n101-199å…¬å‡$250\n200-299å…¬å‡$300\n300-399å…¬å‡$450\n400-499å…¬å‡$500\n600å…¬å‡ä»¥ä¸Š$900\nå°é–‹å†°ç®±$1200\nLGæ•²æ•²çœ‹å†°ç®±$1500\né›»å­è¡£æ«¥$600\n1.æ‹†å¤§é–€/å¸‚å…§é–€/éçª—$200\n2.æ‹†å†°ç®±é–€$1500/é–€\n3.å†°ç®±éæ‰¶æ‰‹$300\n4.å°é–‹å†°ç®±éæ‰¶æ‰‹$500", 
                barcode: "2449400006027", // è«‹æ›æˆæ­£ç¢ºæ¢ç¢¼
                img: "", qrUrl: "", taxUrl: "", oldUrl: "" 
            },
           { 
                cat: "å¸¸ç”¨æ¢ç¢¼", brand: "å†°ç®±é‹è²»", 
                name: "49-400002-001\næ”¶è²»é‹è²»$10", 
                desc: "100å…¬å‡ä»¥ä¸‹$200\n101-199å…¬å‡$250\n200-299å…¬å‡$300\n300-399å…¬å‡$450\n400-499å…¬å‡$500\n600å…¬å‡ä»¥ä¸Š$900\nå°é–‹å†°ç®±$1200\nLGæ•²æ•²çœ‹å†°ç®±$1500\né›»å­è¡£æ«¥$600\n1.æ‹†å¤§é–€/å¸‚å…§é–€/éçª—$200\n2.æ‹†å†°ç®±é–€$1500/é–€\n3.å†°ç®±éæ‰¶æ‰‹$300\n4.å°é–‹å†°ç®±éæ‰¶æ‰‹$500", 
                barcode: "2449400002029", // è«‹æ›æˆæ­£ç¢ºæ¢ç¢¼
                img: "", qrUrl: "", taxUrl: "", oldUrl: "" 
            },
      { 
                cat: "å¸¸ç”¨æ¢ç¢¼", brand: "æ´—è¡£æ©Ÿé‹è²»", 
                name: "49-401006-001\nå…è²»é‹è²»$10", 
                desc: "12å…¬æ–¤(å«)ä»¥ä¸‹$300\n13-18å…¬æ–¤$400\n19å…¬æ–¤ä»¥ä¸Š$500\nLGä¸Šä¹¾ä¸‹æ´—$2700\næ»¾ç­’æ´—è¡£æ©Ÿ12å…¬æ–¤(å«)ä»¥ä¸‹$600\næ»¾ç­’æ´—è¡£æ©Ÿ13-16å…¬æ–¤$700\næ»¾ç­’æ´—è¡£æ©Ÿ17å…¬æ–¤ä»¥ä¸Š$750\nLGä¸‹æ´—è¿·ä½ æ´—è¡£æ©Ÿ$300\nä¹¾è¡£æ©Ÿ10å…¬æ–¤$250\nä¹¾è¡£æ©Ÿ11å…¬æ–¤ä»¥ä¸Š$300\nå…æ›¬è¡£ä¹¾è¡£æ©Ÿ$500\n1.æ‹†å¤§é–€/å¸‚å…§é–€/éçª—$200\n2.ç›´ç«‹å¼æ´—è¡£æ©Ÿéæ‰¶æ‰‹$300\n3.æ»¾ç­’æ´—è¡£æ©Ÿéæ‰¶æ‰‹$500\nåœ‹éš›ä¸Šä¸‹æ´—é‹è²»$2000", 
                barcode: "2449401006026", // è«‹æ›æˆæ­£ç¢ºæ¢ç¢¼
                img: "", qrUrl: "", taxUrl: "", oldUrl: "" 
            },
      { 
                cat: "å¸¸ç”¨æ¢ç¢¼", brand: "æ´—è¡£æ©Ÿé‹è²»", 
                name: "49-401002-001\næ”¶è²»é‹è²»$10", 
                desc: "12å…¬æ–¤(å«)ä»¥ä¸‹$300\n13-18å…¬æ–¤$400\n19å…¬æ–¤ä»¥ä¸Š$500\nLGä¸Šä¹¾ä¸‹æ´—$2700\næ»¾ç­’æ´—è¡£æ©Ÿ12å…¬æ–¤(å«)ä»¥ä¸‹$600\næ»¾ç­’æ´—è¡£æ©Ÿ13-16å…¬æ–¤$700\næ»¾ç­’æ´—è¡£æ©Ÿ17å…¬æ–¤ä»¥ä¸Š$750\nLGä¸‹æ´—è¿·ä½ æ´—è¡£æ©Ÿ$300\nä¹¾è¡£æ©Ÿ10å…¬æ–¤$250\nä¹¾è¡£æ©Ÿ11å…¬æ–¤ä»¥ä¸Š$300\nå…æ›¬è¡£ä¹¾è¡£æ©Ÿ$500\n1.æ‹†å¤§é–€/å¸‚å…§é–€/éçª—$200\n2.ç›´ç«‹å¼æ´—è¡£æ©Ÿéæ‰¶æ‰‹$300\n3.æ»¾ç­’æ´—è¡£æ©Ÿéæ‰¶æ‰‹$500\nåœ‹éš›ä¸Šä¸‹æ´—é‹è²»$2000", 
                barcode: "2449401002028", // è«‹æ›æˆæ­£ç¢ºæ¢ç¢¼
                img: "", qrUrl: "", taxUrl: "", oldUrl: "" 
            },
      { 
                cat: "å¸¸ç”¨æ¢ç¢¼", brand: "é›»è¦–é‹è²»", 
                name: "49-440007-001\nå…è²»é‹è²»$10", 
                desc: "é›»è¦–32å‹å‹ä»¥ä¸‹$300\n é›»è¦–33-49å‹$450\n é›»è¦–50-54å‹$550\n é›»è¦–55-59å‹$600\n é›»è¦–60-74å‹$700\né›»è¦–75å‹ä»¥ä¸Š$1300", 
                barcode: "2449440007022", // è«‹æ›æˆæ­£ç¢ºæ¢ç¢¼
                img: "", qrUrl: "", taxUrl: "", oldUrl: "" 
            },
      { 
                cat: "å¸¸ç”¨æ¢ç¢¼", brand: "é›»è¦–é‹è²»", 
                name: "49-440003-001\næ”¶è²»é‹è²»$10", 
                desc: "é›»è¦–32å‹å‹ä»¥ä¸‹$300\n é›»è¦–33-49å‹$450\n é›»è¦–50-54å‹$550\n é›»è¦–55-59å‹$600\n é›»è¦–60-74å‹$700\né›»è¦–75å‹ä»¥ä¸Š$1300", 
                barcode: "2449440003024", // è«‹æ›æˆæ­£ç¢ºæ¢ç¢¼
                img: "", qrUrl: "", taxUrl: "", oldUrl: "" 
            },
            // --- å®¶é›»è³‡æ–™ ---
            { 
             cat: "DMå°¾ç‰™", 
             brand: "HERAMé›»è¦–", 
             name: "è²·39å‹(å«)ä»¥ä¸Šé›»è¦–å³è´ˆè¬ç”¨å£æ›æ¶\n44-425056-001 Blacklabel BL-3270å£æ›æ¶\nå–®ç­†è³¼è²·4K UHDæ¶²æ™¶é¡¯ç¤ºå™¨æˆ–é›»è¦–ï¼Œå³è´ˆblacklabel BL-ANC88 PLUSé™èºè€³ç½©å¼è€³æ©Ÿ 43-303001-001 blacklabel BL-ANC88 PLUSé™èºå¼è€³æ©Ÿ", 
             desc: "ç¬¬ä¸€å€‹æ¢ç¢¼æ˜¯å£æ›æ¶\nç¬¬äºŒå€‹æ˜¯å“ç‰Œè² æ•¸æ‰£\nç¬¬ä¸‰å€‹æ˜¯è€³æ©Ÿ", 
             barcode: ["4719579893819", "2444042817017","4710631940694"],
             img: "ANC88.jpg", 
             qrUrl: "", 
             taxUrl: "", 
            oldUrl: "" 
            }, 
            { 
                cat: "å†·æ°£", brand: "å¤§é‡‘", 
                name: "æ´»å‹•å·²æˆªæ­¢", 
                desc: "æ´»å‹•å·²è‡³2025/12/31æˆªæ­¢", 
                barcode: "", img: "", qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            { 
                cat: "å†·æ°£", brand: "åœ‹éš›", 
                name: "Kç³»åˆ—1-1è®Šé »åˆ†é›¢\nUX/UJ/LJç³»åˆ—\nåŸå» å›é¥‹$1000", 
                desc: "åœ‹éš›æ´»å‹•å®˜ç¶²ç”³è«‹\nç™¼ç¥¨: 2025.10.01~2026.01.31\nç™»éŒ„æœ€æ™šè‡³ 2026.02.26", 
                barcode: "", 
                qrUrl: "https://pstw.panasonic.com.tw/SalesEvent/Activity/Add?EventID=1BDF6A75-E8E3-44F7-89D5-CEEFD41E279D", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            { 
                cat: "å†·æ°£", brand: "åœ‹éš›", 
                name: "UX/UJ/VX/LJè®Šé »å†·æ°£&ä¸€å°å¤š[å†·æš–]  \nåŸå» å›é¥‹$2000", 
                desc: "åœ‹éš›æ´»å‹•å®˜ç¶²ç”³è«‹\nç™¼ç¥¨: 2025.10.01~2026.01.31\nç™»éŒ„æœ€æ™šè‡³ 2026.02.26", 
                barcode: "", 
                qrUrl: "https://pstw.panasonic.com.tw/SalesEvent/Activity/Add?EventID=1BDF6A75-E8E3-44F7-89D5-CEEFD41E279D", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            { 
                cat: "å†·æ°£", brand: "åœ‹éš›", 
                name: "é«˜è¶…æ•ˆUX[å†·å°ˆ]  \nåŸå» å›é¥‹$3000", 
                desc: "åœ‹éš›æ´»å‹•å®˜ç¶²ç”³è«‹\nç™¼ç¥¨: 2025.10.01~2026.01.31\nç™»éŒ„æœ€æ™šè‡³ 2026.02.26", 
                barcode: "", 
                qrUrl: "https://pstw.panasonic.com.tw/SalesEvent/Activity/Add?EventID=1BDF6A75-E8E3-44F7-89D5-CEEFD41E279D", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            { 
                cat: "å†·æ°£", brand: "åœ‹éš›", 
                name: "é«˜è¶…æ•ˆUX[å†·æš–]  \nåŸå» å›é¥‹$8000", 
                desc: "åœ‹éš›æ´»å‹•å®˜ç¶²ç”³è«‹\nç™¼ç¥¨: 2025.10.01~2026.01.31\nç™»éŒ„æœ€æ™šè‡³ 2026.02.26", 
                barcode: "", 
                qrUrl: "https://pstw.panasonic.com.tw/SalesEvent/Activity/Add?EventID=1BDF6A75-E8E3-44F7-89D5-CEEFD41E279D", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            { 
                cat: "å†·æ°£", brand: "LG", 
                name: "[è®Šé »å†·æ°£]å…¨ç³»åˆ—å†·æ°£1-1åˆ†é›¢å¼å†·æ°£(IDHS/IHP/DDHS/DHPM)\n 2.3kw ~ 5.2kw \n æ¯çµ„ç¾æŠ˜$1000", 
                desc: "LGæ´»å‹•æ™‚é–“2026/1/6 ~ 1/31", 
                barcode: "", 
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            { 
                cat: "å†·æ°£", brand: "LG", 
                name: "[è®Šé »å†·æ°£]å…¨ç³»åˆ—å†·æ°£1-1åˆ†é›¢å¼å†·æ°£(IHP/DHP)  \n 6.3kw ~ 9.3kw  \næ¯çµ„ç¾æŠ˜$2000", 
                desc: "LGæ´»å‹•æ™‚é–“2026/1/6 ~ 1/31", 
                barcode: "", 
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "è²å¯¶", 
                name: "(è´ˆ)è²å¯¶KA-KA01Rå¤šåŠŸèƒ½å¤§å®¹é‡é›»è’¸é‹  \n 40-630984-001", 
                desc: "2025/10/1 ~ 2026/1/31 \n è²å¯¶å†¬è²©å†·æ°£æ´»å‹•2.2kw(å«)ä»¥ä¸Šä¸€ç´šè®Šé »å†·æ°£æ©Ÿç¨®  \n äº«åŸå» å¥½ç¦®4é¸ä¸€", 
                barcode: "4718060386700", 
                img: "KA10R.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "è²å¯¶", 
                name: "(è´ˆ)Balzano BZ-VC860ç„¡ç·šç„¡åˆ·å¸å¡µå™¨ \n 40-630985-001", 
                desc: "2025/10/1 ~ 2026/1/31 \n è²å¯¶å†¬è²©å†·æ°£æ´»å‹•2.2kw(å«)ä»¥ä¸Šä¸€ç´šè®Šé »å†·æ°£æ©Ÿç¨®  \n äº«åŸå» å¥½ç¦®4é¸ä¸€", 
                barcode: "4711041660356", 
                img: "VC860.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "è²å¯¶", 
                name: "(è´ˆ)è²å¯¶æ–°æ ¼SSK-AC2025 16å‹å¾®é›»è…¦DCç¯€èƒ½ç«‹æ‰‡  \n 40-630078-001", 
                desc: "2025/10/1 ~ 2026/1/31 \n è²å¯¶å†¬è²©å†·æ°£æ´»å‹•2.2kw(å«)ä»¥ä¸Šä¸€ç´šè®Šé »å†·æ°£æ©Ÿç¨®  \n äº«åŸå» å¥½ç¦®4é¸ä¸€", 
                barcode: "4718060346568", 
                img: "AC2025.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "è²å¯¶", 
                name: "(è´ˆ)è²å¯¶æ–°æ ¼SRE-AC2025 20Lå¾®æ³¢çˆ \n 40-630080-001", 
                desc: "2025/10/1 ~ 2026/1/31 \n è²å¯¶å†¬è²©å†·æ°£æ´»å‹•2.2kw(å«)ä»¥ä¸Šä¸€ç´šè®Šé »å†·æ°£æ©Ÿç¨®  \n äº«åŸå» å¥½ç¦®4é¸ä¸€", 
                barcode: "4718060332448", 
                img: "SRE.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "è²å¯¶", 
                name: "å¥½ç¦®å†åŠ ç¢¼å†·æ°£  \n è³¼è²·åˆ†é›¢å¼PH/PF/NFç³»åˆ—é€7-11ç¾é‡‘ç¦®å·$1000", 
                desc: "2025/10/1 ~ 2026/1/31 \n è²å¯¶å†¬è²©å†·æ°£æ´»å‹•éœ€ç·šä¸Šç”³è«‹", 
                barcode: "", 
                img: "", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "https://event.sampo.com.tw/2025q3-campaign", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "ç¦¾è¯", 
                name: "2025(è´ˆ)ç¦¾è¯HDF-16CH510 16å‹DCé¢¨æ‰‡ \n 40-630012-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n ç¦¾è¯2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4711229593711", 
                img: "16CH510.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "ç¦¾è¯", 
                name: "2025(è´ˆ)ç¦¾è¯HVC-14UL010ç„¡ç·šæ‰‹æŒå¸å¡µå™¨ \n 40-630017-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n ç¦¾è¯2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4711229593612", 
                img: "14UL010.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "ç¦¾è¯", 
                name: "2025(è´ˆ)ç¦¾è¯HMO-20MD01T 20Lè½‰ç›¤å¼å¾®æ³¢çˆ \n 40-630030-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n ç¦¾è¯2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4711460501865", 
                img: "20MD01T.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "ç¦¾è¯", 
                name: "ç¦¾è¯MAB-A01T1ç¶²è·¯æ©Ÿä¸Šç›’ \n 40-630023-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n ç¦¾è¯2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4710273766416", 
                img: "A01T1.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "ç¦¾è¯", 
                name: "2025(è´ˆ)SCZS-115å…¨ä¸é½é‹¼é›»é‹ \n 40-630992-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n ç¦¾è¯2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4710273765198", 
                img: "SCZS-115.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "æ±å…ƒ", 
                name: "2025(è´ˆ)æ±å…ƒYJ1227CBB IHæ—‹éˆ•è§¸æ§é›»ç£çˆ \n 40-630039-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n æ±å…ƒ2.8kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4718074434817", 
                img: "1227CB.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "æ±å…ƒ", 
                name: "2025(è´ˆ)æ±å…ƒYH1401DNBè² é›¢å­å¹é¢¨æ©Ÿ \n 40-630055-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n æ±å…ƒ2.8kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4718074434824", 
                img: "1401DNB.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "æ±å…ƒ", 
                name: "2025(è´ˆ)æ±å…ƒXA1429BRD 14å‹DCç«‹æ‰‡ \n 40-630994-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n æ±å…ƒ2.8kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4718074480173", 
                img: "1429BRD.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "SHARP", 
                name: "(è´ˆ)é€Ÿä¹¾UVçƒ˜è¡£æ¶(YQD-02KW010) \n 40-630988-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n SHARP 2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4710273766393", 
                img: "YQD.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "SHARP", 
                name: "(è´ˆ)14å‹DCç›´æµé›»é¢¨æ‰‡(YDF-14AH571) \n 40-630989-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n SHARP 2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4711229593346", 
                img: "14AH.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "SHARP", 
                name: "(è´ˆ)å¹é¢¨æ©Ÿ(YBH-12QN060) \n 40-630987-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n SHARP 2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4711460502879", 
                img: "12QN.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†·æ°£", brand: "SHARP", 
                name: "2025(è´ˆ)å±±ç”°YWD-06LCM1Eè¿·ä½ é †ç†±é–‹é£²æ©Ÿ \n 40-630016-001", 
                desc: "æ´»å‹•æ™‚é–“2025/10/1 ~ 2026/1/31 \n SHARP 2.3kw(å«)ä»¥ä¸Šä¸€ç´š[è®Šé »å†·æ°£]", 
                barcode: "4710273766683", 
                img: "06LC.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†°ç®±", brand: "æ—¥ç«‹", 
                name: "è—æ€å³äº«å·-å±…å®¶æ¬¾æˆ–äº«æ¨‚æ¬¾$5000  \n (éœ€ç·šä¸Šç”³è«‹)", 
                desc: "2025/10/1 ~ 2026/1/31 (ç”³è«‹æˆªæ­¢æ—¥2026/2/28) \n æ—¥æœ¬è£½ç‰ç’ƒå†°ç®±  \n RGG670TJ", 
                barcode: "", 
                img: "CQQ.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "https://event.hitachi-homeappliances.com.tw/reg.aspx?id=2094", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†°ç®±", brand: "æ—¥ç«‹", 
                name: "è—æ€å³äº«å·-å±…å®¶æ¬¾æˆ–äº«æ¨‚æ¬¾$3000  \n (éœ€ç·šä¸Šç”³è«‹)", 
                desc: "2025/10/1 ~ 2026/1/31 (ç”³è«‹æˆªæ­¢æ—¥2026/2/28) \n æ—¥æœ¬è£½ç‰ç’ƒå†°ç®±  \n RHW620RJ \n RHW540RJ \n åå­—å°é–‹ç‰ç’ƒå†°ç®± \n HR4N9713DFSVA \n HR4N9638ESVAD \n æ—¥æœ¬è£½éç†±æ°´è’¸æ°£çƒ˜çƒ¤å¾®æ³¢çˆ \n MROBK5000AT \n æ—¥æœ¬è£½æ»¾ç­’æ´—è„«çƒ˜ \n BDSX150JJ \n BDSX150JJR \n BDSX120HJ \n BDSX120HJR \n BDSX115FJ \n BDSX115FJR \n BDSV115GJ \n BDSV115GJR", 
                barcode: "", 
                img: "CQQ.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "https://event.hitachi-homeappliances.com.tw/reg.aspx?id=2094", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†°ç®±", brand: "æ—¥ç«‹", 
                name: "è—æ€å³äº«å·-å±…å®¶æ¬¾æˆ–äº«æ¨‚æ¬¾$2000  \n (éœ€ç·šä¸Šç”³è«‹)", 
                desc: "æ—¥æœ¬è£½é‹¼æ¿å†°ç®± \n RTSF62WJ \n RSF62NJ \nRHSF53NJ \nRHS54TJ \n RHS49NJ \n éç†±æ°´è’¸æ°£çƒ˜çƒ¤å¾®æ³¢çˆ \n MROS800AT \n æ—¥æœ¬è£½æ»¾ç­’æ´—è„«çƒ˜ \n BDNX125FH \n BDNX125FHR \n BDSG120JJ \n å…©é–€ä¸‹å†·å‡å†°ç®± \n HRBN7415DD", 
                barcode: "", 
                img: "CQQ.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "https://event.hitachi-homeappliances.com.tw/reg.aspx?id=2094", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†°ç®±", brand: "æ—¥ç«‹", 
                name: "è—æ€å³äº«å·-å±…å®¶æ¬¾æˆ–äº«æ¨‚æ¬¾$1000  \n (éœ€ç·šä¸Šç”³è«‹)", 
                desc: "å…©é–€ä¸‹å†·å‡å†°ç®± \n HRBN5366DF \n HRBN5366DFL \n è’¸æ°£ç†±æ³µå¼ä¹¾è¡£æ©Ÿ \n TD120XFVEM \n ç›´ç«‹è®Šé »æ´—è¡£æ©Ÿ \n SF200ZHV \n LTLH3MVW0T \n LTL12MVW0T \n LTLH3MVJWT", 
                barcode: "", 
                img: "CQQ.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "https://event.hitachi-homeappliances.com.tw/reg.aspx?id=2094", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†°ç®±", brand: "è²å¯¶", 
                name: "2025å†°ç®±(è´ˆ)å¤§å‰å¤§åˆ©6å…¥ç¢—ç­·ç¦®ç›’çµ„(R5NC1) \n 40-040032-001", 
                desc: "2025/11/7 ~ 2026/2/23  \n è²å¯¶SR-N25D\nSR-C37D\nSR-C35GD\né€™ä¸‰æ¬¾å¯é€", 
                barcode: "4717235404041", 
                img: "R5NC1.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†°ç®±", brand: "è²å¯¶", 
                name: "2025å†°ç®±(è´ˆ)è²å¯¶ç­‰é›¢å­å¹é¢¨æ©Ÿ(R5NC2)\n 40-040033-001", 
                desc: "2025/11/7 ~ 2026/2/23  \n è²å¯¶SR-B46D\nSR-C48D\nSR-C48DV\nSR-C48GDV\nSR-A46GDV\nSR-B53DV\nSR-C53GDV  \n é€™å¹¾æ¬¾å¯é€", 
                barcode: "4718060393623", 
                img: "R5NC2.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "å†°ç®±", brand: "è²å¯¶", 
                name: "2025æ´—è¡£(è´ˆ)å¾·åœ‹å¡çˆ¾ é¹½ç¶ æ¬¾ é‘„éµé‹(R5ND1) \n 40-040031-001", 
                desc: "2025/11/7 ~ 2026/2/23  \n è²å¯¶SR-C48GDD\nSR-C61GDV\nSR-F61D\nSR-F61DV \n é€™å¹¾æ¬¾å¯é€", 
                barcode: "4711420202146", 
                img: "R5ND1.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "https://www.etax.nat.gov.tw/etwmain/etw210w/cases/services/OLFCDT01/0", 
                oldUrl: "https://save3000.moeaea.gov.tw/subsidy02/index/index.aspx" 
            },
            {
                cat: "æ´—è¡£æ©Ÿ", brand: "è²å¯¶", 
                name: "2025æ´—è¡£(è´ˆ)è²å¯¶90ç™‚ç™’ç³»æ‹æ‹å°å¤œç‡ˆ(W5NC1)æ¨£å¼éš¨æ©Ÿ\n 40-130022-001", 
                desc: "2025/11/7 ~ 2026/2/23  \n è²å¯¶ES-L14V(G5)\nES-L16V(G5)\nES-P16DV(P1)\nES-B15D\nES-B17D \n é€™å¹¾æ¬¾å¯é€", 
                barcode: "4711630870869", 
                img: "W5NC1.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "", 
                oldUrl: "" 
            },
            {
                cat: "æ´—è¡£æ©Ÿ", brand: "è²å¯¶", 
                name: "2025æ´—è¡£(è´ˆ)å¾·åœ‹å¡çˆ¾ æµ·è—æ¬¾ é‘„éµé‹(W5NC2) \n 40-130021-001", 
                desc: "2025/11/7 ~ 2026/2/23  \n è²å¯¶ES-P17DPS(S1)\nES-P19DPS(S1)\nES-ND12DH \n é€™å¹¾æ¬¾å¯é€", 
                barcode: "4711420203686", 
                img: "W5NC2.jpg", // è«‹ç¢ºä¿ GitHub ä¸Šæª”æ¡ˆåç‚º ka10r.jpg (å°å¯«)
                qrUrl: "", 
                taxUrl: "", 
                oldUrl: "" 
            },
            { 
                cat: "æ´—è¡£æ©Ÿ", brand: "è²å¯¶", 
                name: "2025æ´—è¡£(è´ˆ)è²å¯¶90 20å‹è¡Œæç®±(W5ND1)\n 40-130023-001", 
                desc: "2025/11/7 ~ 2026/2/23  \n è²å¯¶ES-P17DAS(S1)\nES-P19DAS(S1)\n é€™å¹¾æ¬¾å¯é€", 
                barcode: "4711549752812", img: "W5ND1.jpg", qrUrl: "", 
                taxUrl: "", 
                oldUrl: "" 
            }
        ];

        const catSelect = document.getElementById('categorySelect');
        const brandSelect = document.getElementById('brandSelect');
        const giftContainer = document.getElementById('giftContainer');

        const categories = [...new Set(rawData.map(d => d.cat))];
        categories.forEach(c => {
            const opt = document.createElement('option'); opt.value = c; opt.textContent = c;
            catSelect.appendChild(opt);
        });

        function updateBrands() {
            const selectedCat = catSelect.value;
            brandSelect.innerHTML = '<option value="">-- 2. é¸æ“‡å“ç‰Œ/é …ç›® --</option>';
            giftContainer.innerHTML = '';
            if (!selectedCat) { brandSelect.disabled = true; return; }
            const brands = [...new Set(rawData.filter(d => d.cat === selectedCat).map(d => d.brand))];
            brands.forEach(b => {
                const opt = document.createElement('option'); opt.value = b; opt.textContent = b;
                brandSelect.appendChild(opt);
            });
            brandSelect.disabled = false;
        }

        function showGifts() {
            const selectedCat = catSelect.value;
            const selectedBrand = brandSelect.value;
            giftContainer.innerHTML = '';
            if (!selectedBrand) return;

            rawData.filter(d => d.cat === selectedCat && d.brand === selectedBrand).forEach(g => {
                let formattedName = g.name.replace(/\n/g, '<br>');
                let formattedDesc = g.desc.replace(/\n/g, '<br>');
                formattedDesc = formattedDesc.replace(/(\$\d+)/g, '<span class="price-red">$1</span>');

                // å‹•æ…‹ç”Ÿæˆå¤šå€‹æ¢ç¢¼æŒ‰éˆ•
                let barcodeBtns = "";
                if (Array.isArray(g.barcode) && g.barcode.length > 0) {
                    g.barcode.forEach((code, index) => {
                        const btnLabel = g.barcode.length > 1 ? `ğŸ›’ çµå¸³æ¢ç¢¼(${index + 1})` : `ğŸ›’ çµå¸³æ¢ç¢¼`;
                        barcodeBtns += `<button class="action-btn btn-barcode" onclick="zoomBarcode('${code}')">${btnLabel}</button>`;
                    });
                }

                const card = document.createElement('div');
                card.className = 'gift-card';
                card.innerHTML = `
                    <img src="${g.img}" class="gift-img" onclick="zoomImg('${g.img}')" onerror="this.src='https://via.placeholder.com/80?text=ç„¡åœ–ç‰‡'">
                    <div class="gift-info">
                        <h4>${formattedName}</h4>
                        <p>${formattedDesc}</p>
                        <div class="action-btns">
                            ${barcodeBtns}
                            ${g.qrUrl ? `<button class="action-btn btn-activity" onclick="showQrCode('${g.qrUrl}','å®˜æ–¹æ´»å‹•å®˜ç¶²','è«‹å¼•å°å®¢äººæƒæå‰å¾€ç™»éŒ„')">ğŸ“± æ´»å‹•</button>` : ''}
                            ${g.taxUrl ? `<button class="action-btn btn-tax" onclick="showQrCode('${g.taxUrl}','è²¨ç‰©ç¨…é€€ç¨…ç”³è«‹','è«‹æƒæ QR Code é€²å…¥è²¡æ”¿éƒ¨ç”³è«‹é€€ç¨…')">ğŸ’° é€€ç¨…</button>` : ''}
                            ${g.oldUrl ? `<button class="action-btn btn-old" onclick="showQrCode('${g.oldUrl}','ç¯€èƒ½èˆŠæ©Ÿè£œåŠ©','è«‹æƒæ QR Code é€²å…¥è£œåŠ©ç”³è«‹é é¢')">â™»ï¸ è£œåŠ©</button>` : ''}
                        </div>
                    </div>
                `;
                giftContainer.appendChild(card);
            });
        }

        function zoomImg(src) { if(!src) return; document.getElementById('zoomedImg').src = src; document.getElementById('imgOverlay').style.display = 'flex'; }
        function zoomBarcode(code) {
            document.getElementById('barcodeOverlay').style.display = 'flex';
            JsBarcode("#fullBarcode", code, { format: "EAN13", width: 4, height: 120, displayValue: true, fontSize: 18 });
        }
        function showQrCode(url, title, hint) {
            document.getElementById('qrCodeOverlay').style.display = 'flex';
            document.getElementById('qrTitle').innerText = title;
            document.getElementById('qrHint').innerText = hint;
            const canvas = document.getElementById('qrCodeCanvas');
            canvas.innerHTML = '';
            new QRCode(canvas, { text: url, width: 220, height: 220, colorDark: "#000000", colorLight: "#ffffff", correctLevel: QRCode.CorrectLevel.H });
        }
        function closeOverlay(id) { document.getElementById(id).style.display = 'none'; }
    </script>
</body>
</html>



